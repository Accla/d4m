<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>

	<property>
	  <name>cloudbase.directory</name>
	  <value>/cloudbase</value>
	  <description>HDFS directory in which cloudbase instance will run. Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>

	<property>
	  <name>cloudbase.tabletserver.tabletserverPort</name>
	  <value>9996</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.clientPort</name>
	  <value>9997</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.masterPort</name>
	  <value>9998</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>
	
	<property>
	  <name>cloudbase.master.clientPort</name>
	  <value>9999</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>

	<property>
	  <name>cloudbase.tabletserver.monitor.port</name>
	  <value>50096</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>
	
	<property>
	  <name>cloudbase.master.monitor.port</name>
	  <value>50095</value>
	  <description>Each cloudbase instance running on the same cluster must have a unique value for this.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.majorCompaction.threshold</name>
	  <value>5</value>
	  <description>When more than specified map files are present
	               in a non-metadata tablet, a major compaction will start.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.majorCompaction.threshold.metadata</name>
	  <value>1</value>
	  <description>When more than specified map files are present
	               in a metadata tablet, a major compaction will start.</description>
	</property>

	<property>
	  <name>cloudbase.tablet.majorCompaction.keep</name>
	  <value>2</value>
	  <description>Do not compact this number of largest map files 
	  			   during major compaction of a non-metadata tablet</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.majorCompaction.compactAllProbability</name>
	  <value>.05</value>
	  <description>Probability that all map files are compacted.  If this
	     is set to .1, then that means every major compaction has a 10% chance 
	     of compacting all map files.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.majorCompaction.keep.metadata</name>
	  <value>0</value>
	  <description>Do not compact this number of largest map files 
	  			   during major compaction of a metadata tablet</description>
	</property>

	<property>
	  <name>cloudbase.tablet.split.threshold</name>
	  <value>268435456</value>
	  <description>When combined size of mapfiles exceeds this
	  			   amount a tablet is split.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.split.findMidPoint.maxOpen</name>
	  <value>30</value>
	  <description>To find a tablets split points, all index files are opened.  
	               This setting determines how many index files can be opened 
	               at once.  When there are more index files than this settings
	               multiple passes must be made, which is slower. However opening
	               too many files are once can cause problems.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.walog.directory</name>
	  <value></value>
	  <description>NFS directory for cloudbase METDATA write ahead log. 
	  			   When this values is not set, there is no logging.  
	  			   No write ahead is done for user tables.  
	  			   Therefore this setting only helps avoid data loss w/ 
	  			   cloudbase metadata and not user data.  NFS directory
	  			   should be accessible from all tablet servers.
	  			   
	  			   When enabling logging on an existing cloudbase instance, 
	  			   make sure /cloudbase/instance_id/something_unique exists.  
	  			   If not, create it w/ the command
	  			    
	  			     hadoop fs -touchz /cloudbase/instance_id/something_unique
	  </description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.split.threshold.metadata</name>
	  <value>134217728</value>
	  <description>Split threshold specifically for metadata table.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.bulkImport.estimateEntries</name>
	  <value>false</value>
	  <description>Determines wether or not a tablet will inspect a bulk imported
	               map file to estimate the number of entries in the map file.
	               Disabling this feature may improve bulk import speeds.
	  </description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.cache.enable</name>
	  <value>false</value>
	  <description>Determines wether scan cache is enabled</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.cache.enable.metadata</name>
	  <value>false</value>
	  <description>Determines wether scan cache is enabled for !METADATA</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.cache.size</name>
	  <value>8388608</value>
	  <description>Scan cache size.</description>
	</property>
	
	<property>
	  <name>cloudbase.tablet.cache.size.metadata</name>
	  <value>16777216</value>
	  <description>Scan cache size.</description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.compactionDelay</name>
	  <value>30</value>
	  <description>Seconds tablet server will sleep between checking which tablets need compaction.</description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.maxOpen</name>
	  <value>90</value>
	  <description>Maximum total map files that all tablets
	               in a tablet server can open.  This includes
	               major compactions. So the number of map files
	               that can be opened for searches is :
	                
	                tabletserver.maxOpen - tabletserver.majorCompaction.maxOpen
	               </description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.maxMapMemory</name>
	  <value>1073741824</value>
	  <description>Maximum amount of memory all tablets in memory
	               maps can use.</description>
	</property>
	
	<property>
	  <name>cloudbase.tabletserver.majorCompaction.maxConcurrent</name>
	  <value>1</value>
	  <description></description>
	</property>

	<property>
	  <name>cloudbase.tabletserver.majorCompaction.maxOpen</name>
	  <value>30</value>
	  <description>Max number of files a major compaction can open
	               at once.  At runtime this numnber is divided by 
	               the concurrent number of compactors.</description>
	</property>

	<property>
	  <name>cloudbase.tabletserver.minorCompaction.maxConcurrent</name>
	  <value>4</value>
	  <description></description>
	</property>

	<property>
	  <name>cloudbase.gc.mapfile.time.delay</name>
	  <value>60</value>
	  <description>Seconds between MapFile garbage collection.</description>
	</property>

	<property>
	  <name>cloudbase.gc.mapfile.rounds.delay</name>
	  <value>5</value>
	  <description>Number of rounds to wait before actually deleting MapFiles during garbage collection.</description>
	</property>

	<property>
	  <name>cloudbase.client.active.threads</name>
	  <value>30</value>
	  <description>Number of active threads for ThrottledMultiThreadedBatchWriter.</description>
	</property>

	<property>
		<name>cloudbase.client.batch.size</name>
		<value>1000</value>
		<description>Batch size for ThrottledMultiThreadedBatchWriter.</description>
	</property>
		
	<property>
		<name>cloudbase.tabletserver.clientHandlers.maxConcurrent</name>
		<value>6</value>
		<description>Max number of clientHandlers per tablet server</description>
	</property>
	
	<property>
		<name>cloudbase.stats.tableRates</name>
		<value>myEt</value>
		<description>A list of all tables that will be reported for a subset of tables</description>
	</property>
	
	
</configuration>